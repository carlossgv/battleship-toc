(this["webpackJsonpbattleship-toc"]=this["webpackJsonpbattleship-toc"]||[]).push([[0],[,,,,,,,,,,function(r,e,i){},function(r,e,i){},function(r,e,i){},,function(r,e,i){},,,function(r,e,i){},function(r,e,i){},function(r,e,i){},function(r,e,i){"use strict";i.r(e);var t=i(2),a=i.n(t),n=i(5),c=i.n(n),o=(i(10),i(11),i(12),i(0)),s=function(){return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"title",children:"BATTLESHIP"}),Object(o.jsx)("h2",{className:"silhouettes",children:"QZ(kh"})]})},d=i(3),l=(i(14),i(1)),u=i.n(l),m=function(r){for(var e=[],i=0;i<r;i++)e.push({x:"",y:"",hit:!1});return{length:r,hitPoints:e,hit:function(r){return e[r].hit=!0,e},isSunk:function(e){for(var i=0;i<r;i++)if(!e[i].hit)return!1;return!0}}},h=function(r){var e=[[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]],i=function(r){var i="",t=u.a.random(0,1),a=u.a.random(0,9),n=u.a.random(0,9);i=0===t?"horizontal":"vertical";for(var c=!1;!1===c;){if("horizontal"===i)if(n>10-r.length||!1!==e[a][n])t=u.a.random(0,1),a=u.a.random(0,9),n=u.a.random(0,9),i=0===t?"horizontal":"vertical";else for(var o=0;o<r.length;o++)c=!0;if("vertical"===i)if(a>10-r.length||!1!==e[a][n])t=u.a.random(0,1),a=u.a.random(0,9),n=u.a.random(0,9),i=0===t?"horizontal":"vertical";else for(var s=0;s<r.length;s++)c=!0}return{x:a,y:n,direction:i}};return{array:e,missedAtttacks:[],placeShip:function(r){var t=i(r),a=t.direction,n=t.x,c=t.y;if("horizontal"===a)for(var o=0;o<r.length;o++)r.hitPoints[o].x=n,r.hitPoints[o].y=o+c,e[n][o+c]=r.hitPoints[o];else for(var s=0;s<r.length;s++)r.hitPoints[s].x=s+n,r.hitPoints[s].y=c,e[s+n][c]=r.hitPoints[s];return{x:n,y:c,direction:a}},receiveAttack:function(r,i){return e[r][i]?"missed"!==e[r][i]&&!0!==e[r][i].hit&&(e[r][i].hit=!0,e[i]):(e[r][i]="missed","missed")},allShipSunked:function(){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)if(!1===e[r][i].hit)return!1;return!0},fillBoard:f}},p=function(r){return[parseInt(r.split(",")[0]),parseInt(r.split(",")[1])]},f=function(r){var e=m(5),i=m(4),t=m(3),a=m(3),n=m(2);r.placeShip(e),r.placeShip(i),r.placeShip(t),r.placeShip(a),r.placeShip(n)},y=(i(17),function(r){var e="",i=Object(t.useState)({class:"notHit",clicked:!1}),a=Object(d.a)(i,2),n=a[0],c=a[1];e=!1===r.type?"emptySquare":"shipSquare";return Object(o.jsx)("div",{className:"square ".concat(e," ").concat(n.class),id:r.id,onClick:n.clicked?console.log(n):function(e){if(!r.gameFinished&&"tracking"===r.boardType){var i=p(e.target.id);r.enemyArray[i[0]][i[1]]instanceof Object?c({class:"isHit",clicked:!0}):c({class:"isMiss",clicked:!0})}},onChange:r.onClick})}),j=function(r){var e=[],i=0;return r.board.array.forEach((function(t){var a=0;t.forEach((function(t){var n="";n=!!t&&"ship",e.push(Object(o.jsx)(y,{boardType:r.type,id:"".concat(i,",").concat(a),row:i,type:n,isHitClass:r.isHitClass,enemyArray:r.enemyArray,gameFinished:r.gameFinished},"".concat(i,",").concat(a))),a+=1})),i+=1})),Object(o.jsx)("div",{className:"gameBoard ".concat(r.type,"Board"),onClick:r.onClick,children:e})},v=(i(18),function(){var r={name:"computer"!=="computer"?"User":"computer",sendAttack:function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(e&&i||(e=u.a.random(0,9),i=u.a.random(0,9));"missed"===r[e][i]||r[e][i].hit;)e=u.a.random(0,9),i=u.a.random(0,9);return r[e][i]?(r[e][i].hit=!0,{x:e,y:i,action:"hit"}):(r[e][i]="missed",{x:e,y:i,action:"missed"})}},e=Object(t.useState)({userPrimaryGrid:h(),userTrackingGrid:h(),computerPrimaryGrid:h(),computerTrackingGrid:h()}),i=Object(d.a)(e,2),a=i[0],n=i[1],c=Object(t.useState)(!1),s=Object(d.a)(c,2),l=s[0],m=s[1];Object(t.useEffect)((function(){f(a.userPrimaryGrid),f(a.computerPrimaryGrid),n({userPrimaryGrid:a.userPrimaryGrid,userTrackingGrid:a.userTrackingGrid,computerPrimaryGrid:a.computerPrimaryGrid,computerTrackingGrid:a.computerTrackingGrid})}),[]);return Object(o.jsxs)("div",{className:"Main",children:[Object(o.jsxs)("div",{className:"gameBoards",children:[Object(o.jsx)(j,{type:"primary",board:a.userPrimaryGrid,enemyArray:a.computerTrackingGrid.array}),Object(o.jsx)(j,{type:"tracking",gameFinished:l,board:a.userTrackingGrid,enemyArray:a.computerPrimaryGrid.array,onClick:function(e){var i=p(e.target.id);if(console.log(i),console.log(l),!l&&a.computerPrimaryGrid.receiveAttack(i[0],i[1])){a.computerPrimaryGrid.receiveAttack(i[0],i[1]);var t=r.sendAttack(a.userPrimaryGrid.array);if(t){var n=document.querySelector(".primaryBoard #\\3".concat(t.x," \\,").concat(t.y));n.classList.remove("notHit"),n.classList.contains("shipSquare")?n.classList.add("isHit"):n.classList.add("isMiss")}a.computerPrimaryGrid.allShipSunked()?(m(!0),alert("YOU WON!")):a.userPrimaryGrid.allShipSunked()&&(m(!0),alert("YOU LOST"))}}})]}),Object(o.jsx)("div",{className:"linkContainer",children:Object(o.jsx)("a",{href:"https://en.wikipedia.org/wiki/Battleship_(game)",rel:"noreferrer",target:"_blank",children:"How to play"})})]})}),g=(i(19),function(){return Object(o.jsx)("div",{className:"Footer",children:"Carlos Gonz\xe1lez carlossgv@gmail.com"})});var b=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(s,{}),Object(o.jsx)(v,{}),Object(o.jsx)(g,{})]})},k=function(r){r&&r instanceof Function&&i.e(3).then(i.bind(null,21)).then((function(e){var i=e.getCLS,t=e.getFID,a=e.getFCP,n=e.getLCP,c=e.getTTFB;i(r),t(r),a(r),n(r),c(r)}))};c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(b,{})}),document.getElementById("root")),k()}],[[20,1,2]]]);
//# sourceMappingURL=main.4619c301.chunk.js.map