(this["webpackJsonpbattleship-toc"]=this["webpackJsonpbattleship-toc"]||[]).push([[0],[,,,,,,,,,,function(r,e,i){},function(r,e,i){},function(r,e,i){},,function(r,e,i){},,,function(r,e,i){},function(r,e,i){},function(r,e,i){},function(r,e,i){"use strict";i.r(e);var t=i(1),a=i.n(t),n=i(5),c=i.n(n),s=(i(10),i(11),i(12),i(0)),o=function(){return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsx)("h1",{className:"title",children:"BATTLESHIP"}),Object(s.jsx)("h2",{className:"silhouettes",children:"QZ(kh"})]})},d=i(3),l=(i(14),i(2)),u=i.n(l),m=function(r){for(var e=[],i=0;i<r;i++)e.push({x:"",y:"",hit:!1});return{length:r,hitPoints:e,hit:function(r){return e[r].hit=!0,e},isSunk:function(e){for(var i=0;i<r;i++)if(!e[i].hit)return!1;return!0}}},h=function(r){var e=[[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]],i=function(r){var i="",t=u.a.random(0,1),a=u.a.random(0,9),n=u.a.random(0,9);i=0===t?"horizontal":"vertical";for(var c=!1;!1===c;){if("horizontal"===i)if(n>10-r.length||!1!==e[a][n])console.log("cant place ship in ".concat(a,",").concat(n)),t=u.a.random(0,1),a=u.a.random(0,9),n=u.a.random(0,9),i=0===t?"horizontal":"vertical";else for(var s=0;s<r.length;s++)c=!0;if("vertical"===i)if(a>10-r.length||!1!==e[a][n])console.log("cant place ship in ".concat(a,",").concat(n)),t=u.a.random(0,1),a=u.a.random(0,9),n=u.a.random(0,9),i=0===t?"horizontal":"vertical";else for(var o=0;o<r.length;o++)c=!0}return{x:a,y:n,direction:i}};return{array:e,missedAtttacks:[],placeShip:function(r){var t=i(r),a=t.direction,n=t.x,c=t.y;if("horizontal"===a)for(var s=0;s<r.length;s++)r.hitPoints[s].x=n,r.hitPoints[s].y=s+c,e[n][s+c]=r.hitPoints[s];else for(var o=0;o<r.length;o++)r.hitPoints[o].x=o+n,r.hitPoints[o].y=c,e[o+n][c]=r.hitPoints[o];return{x:n,y:c,direction:a}},receiveAttack:function(r,i){return e[r][i]?"missed"!==e[r][i]&&!0!==e[r][i].hit&&(e[r][i].hit=!0,e[i]):(e[r][i]="missed","missed")},allShipSunked:function(){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)if(!1===e[r][i].hit)return!1;return!0},fillBoard:j}},p=function(r){return[parseInt(r.split(",")[0]),parseInt(r.split(",")[1])]},j=function(r){var e=m(5),i=m(4),t=m(3),a=m(3),n=m(2);r.placeShip(e),r.placeShip(i),r.placeShip(t),r.placeShip(a),r.placeShip(n)},f=(i(17),function(r){var e="",i=Object(t.useState)({class:"notHit",clicked:!1}),a=Object(d.a)(i,2),n=a[0],c=a[1];e=!1===r.type?"emptySquare":"shipSquare";return Object(s.jsx)("div",{className:"square ".concat(e," ").concat(n.class),id:r.id,onClick:n.clicked?console.log(n):function(e){if(!r.gameFinished&&"tracking"===r.boardType){var i=p(e.target.id);r.enemyArray[i[0]][i[1]]instanceof Object?c({class:"isHit",clicked:!0}):c({class:"isMiss",clicked:!0})}},onChange:r.onClick})}),y=function(r){var e=[],i=0;return r.board.array.forEach((function(t){var a=0;t.forEach((function(t){var n="";n=!!t&&"ship",e.push(Object(s.jsx)(f,{boardType:r.type,id:"".concat(i,",").concat(a),row:i,type:n,isHitClass:r.isHitClass,enemyArray:r.enemyArray,gameFinished:r.gameFinished},"".concat(i,",").concat(a))),a+=1})),i+=1})),Object(s.jsx)("div",{className:"gameBoard ".concat(r.type,"Board"),onClick:r.onClick,children:e})},b=(i(18),function(){var r={name:"computer"!=="computer"?"User":"computer",sendAttack:function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(e&&i||(e=u.a.random(0,9),i=u.a.random(0,9));"missed"===r[e][i]||r[e][i].hit;)e=u.a.random(0,9),i=u.a.random(0,9);return r[e][i]?(r[e][i].hit=!0,{x:e,y:i,action:"hit"}):(r[e][i]="missed",{x:e,y:i,action:"missed"})}},e=Object(t.useState)({userPrimaryGrid:h(),userTrackingGrid:h(),computerPrimaryGrid:h(),computerTrackingGrid:h()}),i=Object(d.a)(e,2),a=i[0],n=i[1],c=Object(t.useState)(!1),o=Object(d.a)(c,2),l=o[0],m=o[1],f=Object(t.useState)(""),b=Object(d.a)(f,2),g=b[0],v=b[1];Object(t.useEffect)((function(){j(a.userPrimaryGrid),j(a.computerPrimaryGrid),n({userPrimaryGrid:a.userPrimaryGrid,userTrackingGrid:a.userTrackingGrid,computerPrimaryGrid:a.computerPrimaryGrid,computerTrackingGrid:a.computerTrackingGrid})}),[a.computerPrimaryGrid,a.computerTrackingGrid,a.userPrimaryGrid,a.userTrackingGrid]);return Object(s.jsxs)("div",{className:"Main",children:[Object(s.jsxs)("div",{className:"gameBoards",children:[Object(s.jsxs)("div",{className:"grid playersGrid",children:[Object(s.jsx)(y,{type:"primary",board:a.userPrimaryGrid,enemyArray:a.computerTrackingGrid.array}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Your grid"})})," "]}),Object(s.jsxs)("div",{className:"grid computersGrid",children:[Object(s.jsx)(y,{type:"tracking",gameFinished:l,board:a.userTrackingGrid,enemyArray:a.computerPrimaryGrid.array,onClick:function(e){var i=p(e.target.id);if(console.log(i),console.log(l),!l&&a.computerPrimaryGrid.receiveAttack(i[0],i[1])){a.computerPrimaryGrid.receiveAttack(i[0],i[1]);var t=r.sendAttack(a.userPrimaryGrid.array);if(t){var n=document.querySelector(".primaryBoard #\\3".concat(t.x," \\,").concat(t.y));n.classList.remove("notHit"),n.classList.contains("shipSquare")?n.classList.add("isHit"):n.classList.add("isMiss")}var c=document.querySelector(".modal");a.computerPrimaryGrid.allShipSunked()?(m(!0),v("won"),c.style.display="block"):a.userPrimaryGrid.allShipSunked()&&(m(!0),v("lost"),c.style.display="block")}}}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Opponent's grid"})})," ",Object(s.jsx)("div",{className:"modal",children:Object(s.jsxs)("div",{className:"modalContent",children:[Object(s.jsxs)("h6",{children:["You ",g,"!"]}),Object(s.jsx)("button",{onClick:function(){return window.location.reload()},children:"Play Again"})]})})]})]}),Object(s.jsx)("div",{className:"linkContainer",children:Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Battleship_(game)",rel:"noreferrer",target:"_blank",children:"How to play"})})]})}),g=(i(19),function(){return Object(s.jsx)("div",{className:"Footer",children:"Carlos Gonz\xe1lez carlossgv@gmail.com"})});var v=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o,{}),Object(s.jsx)(b,{}),Object(s.jsx)(g,{})]})},k=function(r){r&&r instanceof Function&&i.e(3).then(i.bind(null,21)).then((function(e){var i=e.getCLS,t=e.getFID,a=e.getFCP,n=e.getLCP,c=e.getTTFB;i(r),t(r),a(r),n(r),c(r)}))};c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),k()}],[[20,1,2]]]);
//# sourceMappingURL=main.31a4b947.chunk.js.map